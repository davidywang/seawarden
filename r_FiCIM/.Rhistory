list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = './ficim_54_day5_bath20/54_p_flux.csv', row.names=FALSE, col.names=FALSE, sep=",")}
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print_fc}
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc}
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)}
library(dplyr)
#load ficim files
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
#extract from zip, copy to new folder
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = './ficim_54_day5_bath20/54_p_flux.csv', row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
#load ficim files
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
#extract from zip, copy to new folder
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = paste0('./ficim_54_day5_bath20/', i, '.csv', row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
#load ficim files
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
#extract from zip, copy to new folder
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = paste0('./ficim_54_day5_bath20/', i, '.csv', row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
#load ficim files
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
#extract from zip, copy to new folder
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = paste0('./ficim_54_day5_bath20/', i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
#load ficim files
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
#extract from zip, copy to new folder
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = paste0('./ficim_54_day5_bath20/', i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
total_fc <- Reduce('+', datalist)
write.table(total_fc, file = paste0('./ficim_54_day5_bath20/', i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
heatmap(total_fc)
heatmap(as.matrix(total_fc))
heatmap(as.matrix(total_fc),scale="column")
heatmap(as.matrix(total_fc), Colv = NA, Rowv = NA, scale="column")
library(ggplot2)
x <- LETTERS[1:20]
y <- paste0("var", seq(1,20))
data <- expand.grid(X=x, Y=y)
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
library(ggplot2)
data <- total_fc
# Heatmap
ggplot(data) +
geom_tile()
library(ggplot2)
data <- total_fc
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
library(ggplot2)
data <- expand.grid(X=400, Y=400)
# Heatmap
ggplot(data, aes(X, Y)) +
geom_tile()
data<-as.matrix(total_fc)
heatmap(data)
data
total_fc
total_fc
as.matrix(total_fc)
data<-as.matrix(total_fc)
heatmap(data)
data<-as.matrix(total_fc)
heatmap(data, Colv = NA, Rowv = NA, scale="column")
data<-as.matrix(total_fc)
heatmap(data, Colv = 400, Rowv = 400, scale="column")
data<-as.matrix(total_fc)
heatmap(data, Colv = 400, Rowv = 400)
data<-as.matrix(total_fc)
heatmap(data)
data<-as.matrix(total_fc)
heatmap(data, scale="column", col = cm.colors(256))
data<-as.matrix(total_fc)
library(ggplot2)
ggplot(data = total_fc, aes(x=Var1, y=Var2, fill=value)) +
geom_tile()
total_fc
data<-as.matrix(total_fc)
library(ggplot2)
ggplot(data = total_fc, aes(x=V1,fill=value)) +
geom_tile()
data<-as.matrix(total_fc)
library(ggplot2)
ggplot(data = total_fc) +
geom_tile()
data<-as.matrix(total_fc)
library(ggplot2)
ggplot(data = total_fc, aes(x=400, y=400) +
geom_tile()
data<-as.matrix(total_fc)
library(ggplot2)
ggplot(data = total_fc, aes(x=400, y=400)) +
geom_tile()
data<-as.matrix(total_fc)
library(ggplot2)
ggplot(data = total_fc, aes(x=400, y=400, fill=value)) +
geom_tile()
# Library
library(ggplot2)
# Dummy data
x <- LETTERS[1:20]
y <- paste0("var", seq(1,20))
data <- expand.grid(X=x, Y=y)
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
# Library
library(ggplot2)
# Dummy data
x <- LETTERS[1:20]
y <- paste0(seq(1,20))
data <- expand.grid(X=x, Y=y)
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
# Library
library(ggplot2)
# Dummy data
x <- seq(1,20)
y <- seq(1,20)
data <- expand.grid(X=x, Y=y)
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
# Library
library(ggplot2)
# Dummy data
x <- seq(1,20)
y <- seq(1,20)
data <- expand.grid(total_fc)
# Library
library(ggplot2)
# Dummy data
x <- seq(1,20)
y <- seq(1,20)
data <- expand.grid(as.matrix(total_fc))
data$Z <- runif(400, 0, 5)
# Heatmap
ggplot(data, aes(X, Y, fill= Z)) +
geom_tile()
heatmap(as.matrix(total_fc), keep.dendro = FALSE)
heatmap(as.matrix(total_fc), keep.dendro = TRUE)
total_fc
as.vector(total_fc)
unlist(as.vector(total_fc))
length(unlist(as.vector(total_fc)))
x<-unlist(as.vector(total_fc))
write.table(x, file = paste0('./ficim_54_day5_bath20/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")
targets <- '../greece/FiCIM/54_5m_pts.shp'
targets <- st_read(targets)
library(sf)
targets <- '../greece/FiCIM/54_5m_pts.shp'
targets <- st_read(targets)
targets
write.table(cbind(targets$geometry, x), file = paste0('./ficim_54_day5_bath20/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")
targets$geometry[1]
targets$geometry
targets$geometry[1]
targets$geometry[,1]
targets$geometry[1,]
targets$geometry[1]
targets$geometry
cbind(targets$geometry, x)
spCbind(targets,x)
library(maptools)
spCbind(targets,x)
spCbind(x, targets)
x2<-as.dataframe(x)
as.data.frame(x)
x2<-as.data.frame(x)
spCbind(x2, targets)
targets$geometry[1]
targets <- '../greece/FiCIM/54_5m_pts.shp'
targets <- st_read(targets)
targets <- '../greece/FiCIM/54_5m_pts.shp'
targets <- st_read(targets)
targets
merge(targets, x2)
cbind(targets, x2)
m
m <- cbind(targets, x2)
m
x[1]
targets[1]$geometry
targets$geometry
as.data.frame(targets$geometry)
x<-unlist(as.vector(total_fc))
write.table(x, file = paste0('./ficim_54_day5_bath20/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
rev(txt_list)
library(dplyr)
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- unlist(as.vector(Reduce('+', datalist)))
combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
input <- './ficim_54_day5_bath20_zip'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- unlist(as.vector(Reduce('+', datalist)))
combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
input <- './ficim_54_day5_bath20'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- unlist(as.vector(Reduce('+', datalist)))
combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
Reduce('+', datalist)
rev(Reduce('+', datalist))
library(dplyr)
input <- './ficim_54_day5_bath20'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- unlist(as.vector(rev(Reduce('+', datalist))))
combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
input <- './ficim_54_day5_bath20'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- unlist(as.vector(rev(Reduce('+', datalist))))
#combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
sampledata<-data.frame(a=sample(letters,n,replace=TRUE),b=rnorm(n,1,0.7),
c=rnorm(n,1,0.6),d=runif(n))
n=252
sampledata<-data.frame(a=sample(letters,n,replace=TRUE),b=rnorm(n,1,0.7),
c=rnorm(n,1,0.6),d=runif(n))
sampledata
rev(sampledata)
apply(sampledata, 2, rev)
combined <- Reduce('+', datalist)
combined <- apply(combined, 2, rev)
combined <- unlist(as.vector(combined))
combined <- rev(combined)
combined
library(dplyr)
input <- './ficim_54_day5_bath20'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- Reduce('+', datalist)
combined <- apply(combined, 2, rev)
combined <- unlist(as.vector(combined))
combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
library(dplyr)
input <- './ficim_54_day5_bath20'
files <- list.files(path = input, pattern = "*.zip")
print(length(files))
for (i in files){
unzip(paste0(input, '/', i), exdir = input)
txt_list <- list.files(paste0(input, '/Outputs'))}
txt_list <- c('Flux_C_0005', 'Flux_N_0005', 'Flux_P_0005', 'Mean_Flux_C', 'Mean_Flux_N', 'Mean_Flux_P')
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- Reduce('+', datalist)
combined <- apply(combined, 2, rev)
combined <- unlist(as.vector(combined))
#combined <- rev(combined)
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
a<- c(1, 2, 3)
b<- c(4, 5, 6)
c<- c(7, 8, 9)
data.frame(a, b, c)
a<- c(1, 4, 7)
b<- c(2, 5, 8)
c<- c(3, 6, 9)
data.frame(a, b, c)
a<- c(1, 4, 7)
b<- c(2, 5, 8)
c<- c(3, 6, 9)
rev(data.frame(a, b, c))
df <- data.frame(a, b, c)
data.frame(apply(df, 2, rev))
unlist(as.vector(df2))
df <- data.frame(a, b, c)
df2 <- data.frame(apply(df, 2, rev))
unlist(as.vector(df2))
df2
as.vector(df2)
unlist(as.vector(df2))
df2
unlist(df2)
as.vector(df2)
as.numeric(df2)
as.numeric(df2[1,])
unlist(df2)
as.vector(df2)
unlist(as.vector(df2))
unlist(transpose(as.vector(df2)))
unlist(t(as.vector(df2)))
as.vector(df2)
unlist(as.vector(df2))
unlist(t(as.vector(df2)))
c(t(df2))
for (i in txt_list){
list_fc <- list.files(path = paste0(input, '/Outputs'), pattern = i)
print(list_fc)
datalist = list()
for (j in list_fc){
name <- paste0(input, '/Outputs/', j)
txt <- read.table(name, header = FALSE)
datalist[[j]] <- txt}
combined <- Reduce('+', datalist)
combined <- c(t(combined))
#write.table(Reduce('+', datalist), file = paste0(input, i, '.csv'), row.names=FALSE, col.names=FALSE, sep=",")
write.table(combined, file = paste0(input, '/', i, '_list.csv'), row.names=FALSE, col.names=FALSE, sep=",")}
