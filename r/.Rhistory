write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
list.files(rac_folder, pattern = 'sim')
library(dplyr)
rac_folder <- '/Users/Zack/0_seawarden/r/'
for (i in sim_list){
sim_list <- list.files(rac_folder, pattern = 'sim')
site_folder <- '/site_0/Bass_population/Outputs/Out_csv/'
#load csv files
faeces_c <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_5 <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p)
#rename columns
colnames(compiled) <- c("day", "faeces_c_1", "faeces_c_2", "faeces_l_1", "faeces_l_2", "faeces_p_1", "faeces_p_2")
name = paste0('/Users/Zack/0_seawarden/r/', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
library(dplyr)
rac_folder <- '/Users/Zack/0_seawarden/r/'
for (i in sim_list){
sim_list <- list.files(rac_folder, pattern = 'sim')
site_folder <- '/site_0/Bass_population/Outputs/Out_csv/'
#load csv files
faeces_c <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_5 <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p)
#rename columns
colnames(compiled) <- c("day", "faeces_c_1", "faeces_c_2", "faeces_l_1", "faeces_l_2", "faeces_p_1", "faeces_p_2")
name = paste0('/Users/Zack/0_seawarden/r/RAC_seabass_compiled', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
list.files(rac_folder, pattern = 'sim')
library(dplyr)
rac_folder <- '/Users/Zack/0_seawarden/r/'
for (i in sim_list){
sim_list <- list.files(rac_folder, pattern = 'sim')
site_folder <- '/site_0/Bass_population/Outputs/Out_csv/'
#load csv files
faeces_c <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_5 <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p)
#rename columns
colnames(compiled) <- c("day", "faeces_c_1", "faeces_c_2", "faeces_l_1", "faeces_l_2", "faeces_p_1", "faeces_p_2")
name = paste0(rac_folder, 'RAC_seabass_compiled/', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
library(dplyr)
rac_folder <- '/Users/Zack/0_seawarden/r/'
for (i in sim_list){
sim_list <- list.files(rac_folder, pattern = 'sim')
site_folder <- '/site_0/Bass_population/Outputs/Out_csv/'
#load csv files
faeces_c <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_5 <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p)
#rename columns
colnames(compiled) <- c("day", "faeces_c_1", "faeces_c_2", "faeces_l_1", "faeces_l_2", "faeces_p_1", "faeces_p_2")
name = paste0(rac_folder, 'RAC_seabass_compiled/', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
library(dplyr)
rac_folder <- '/Users/Zack/0_seawarden/r/'
for (i in sim_list){
sim_list <- list.files(rac_folder, pattern = 'sim')
site_folder <- '/site_0/Bass_population/Outputs/Out_csv/'
#load csv files
faeces_c <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_5 <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p)
#rename columns
colnames(compiled) <- c("day", "faeces_c_1", "faeces_c_2", "faeces_l_1", "faeces_l_2", "faeces_p_1", "faeces_p_2")
name = paste0(rac_folder, 'RAC_seabass_compiled/', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
library(dplyr)
rac_folder <- '/Users/Zack/0_seawarden/r/'
for (i in sim_list){
sim_list <- list.files(rac_folder, pattern = 'sim')
site_folder <- '/site_0/Bass_population/Outputs/Out_csv/'
#load csv files
faeces_c <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, i, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_l <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p)
#rename columns
colnames(compiled) <- c("day", "faeces_c_1", "faeces_c_2", "faeces_l_1", "faeces_l_2", "faeces_p_1", "faeces_p_2")
name = paste0(rac_folder, 'RAC_seabass_compiled/', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
library(RAC)
library(dplyr)
#command + shift + c
#load sst files
sst_folder <- '/Users/Zack/0_thesis_sst/ghrsst_2018_csv/'
sst_list <- list.files(sst_folder, pattern = '.csv')
#load master files
rac_folder <- "/Users/Zack/0_seawarden/r/RAC_seabass_all/"
master_files <- paste0(rac_folder, 'master_files/')
master_Feeding <- read.csv(paste0(master_files, 'master_RAC-seabass - Feeding.csv'), header=TRUE, sep=",")
master_Food <- read.csv(paste0(master_files, 'master_RAC-seabass - Food_Characterization.csv'), header=FALSE, sep=",")
master_Parameters <- read.csv(paste0(master_files, 'master_RAC-seabass - Parameters.csv'), header=FALSE, sep=",")
master_Management <- read.csv(paste0(master_files, 'master_RAC-seabass - Management.csv'), header=FALSE, sep=",")
master_Population <- read.csv(paste0(master_files, 'master_RAC-seabass - Population.csv'), header=FALSE, sep=",")
#create folder for each site, #add SST data
#sites <- length(sst_list)
sites <- 2
for (i in 0:sites){
#create a folder for each site
site_folder <- paste0(rac_folder, 'site_', i, '/')
dir.create(site_folder)
#create RAC folders for each site
Bass_pop_skeleton(site_folder)
#add SST data
orglocation <- paste0(sst_folder, i, '_sst.csv')
newlocation <- paste0(site_folder, 'Bass_population/Inputs/Forcings/')
file.copy(from=orglocation, to=newlocation, overwrite = TRUE, recursive = FALSE, copy.mode = TRUE)
file.remove(paste0(newlocation, 'Water_temperature.csv'))
file.rename(paste0(newlocation, i, '_sst.csv'), paste0(newlocation, 'Water_temperature.csv'))}
#generate Feeding.csv for each site
for (i in 0:sites){
column <- 2 + i
export <- master_Feeding %>% select(1, column)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Food_Characterization.csv for each site (same for all sites)
for (i in 0:sites){
export <- master_Food %>% select(2, 1)
export <- export[-1,] #drop header
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Food_Characterization.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Management.csv for each site
for (i in 0:sites){
column <- i + 3
export <- master_Management %>% select(1, 2, column)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Population_management/Management.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Parameters.csv for each site (same for all sites)
for (i in 0:sites){
export <- master_Parameters %>% select(1, 2, 5, 3, 4)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Parameters/Parameters.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Population.csv for each site
for (i in 0:sites){
column <- i + 5
export <- master_Population %>% select(1, 2, column, 3, 4)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Parameters/Population.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#delete selector = "y"
trace(Bass_pop_main,edit=T)
for (i in 0:sites){
userpath <- paste0(rac_folder, "site_", i)
#working directory
setwd(userpath)
#load environmental variables
forcings <- Bass_pop_dataloader(userpath)
#run growth model
output <- Bass_pop_main(userpath, forcings)}
library(dplyr)
#library(data.table)
library(raster)
library(sf)
#library(sp)
library(ggplot2)
library(scales)
library(RAC)
library(dplyr)
#command + shift + c
#load sst files
sst_folder <- '/Users/Zack/0_thesis_sst/ghrsst_2018_csv/'
sst_list <- list.files(sst_folder, pattern = '.csv')
#load master files
rac_folder <- "/Users/Zack/0_seawarden/r/RAC_seabass_all/"
master_files <- paste0(rac_folder, 'master_files/')
master_Feeding <- read.csv(paste0(master_files, 'master_RAC-seabass - Feeding.csv'), header=TRUE, sep=",")
master_Food <- read.csv(paste0(master_files, 'master_RAC-seabass - Food_Characterization.csv'), header=FALSE, sep=",")
master_Parameters <- read.csv(paste0(master_files, 'master_RAC-seabass - Parameters.csv'), header=FALSE, sep=",")
master_Management <- read.csv(paste0(master_files, 'master_RAC-seabass - Management.csv'), header=FALSE, sep=",")
master_Population <- read.csv(paste0(master_files, 'master_RAC-seabass - Population.csv'), header=FALSE, sep=",")
#create folder for each site, #add SST data
#sites <- length(sst_list)
sites <- 2
for (i in 0:sites){
#create a folder for each site
site_folder <- paste0(rac_folder, 'site_', i, '/')
dir.create(site_folder)
#create RAC folders for each site
Bass_pop_skeleton(site_folder)
#add SST data
orglocation <- paste0(sst_folder, i, '_sst.csv')
newlocation <- paste0(site_folder, 'Bass_population/Inputs/Forcings/')
file.copy(from=orglocation, to=newlocation, overwrite = TRUE, recursive = FALSE, copy.mode = TRUE)
file.remove(paste0(newlocation, 'Water_temperature.csv'))
file.rename(paste0(newlocation, i, '_sst.csv'), paste0(newlocation, 'Water_temperature.csv'))}
#generate Feeding.csv for each site
for (i in 0:sites){
column <- 2 + i
export <- master_Feeding %>% select(1, column)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
column <- 2 + i
export <- master_Feeding %>% select(1, column)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
master_Feeding
master_Food
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=TRUE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
master_Feeding %>% select(1, 2)
master_Feeding
master_Feeding %>% select('date')
library(RAC)
library(dplyr)
#command + shift + c
#load sst files
sst_folder <- '/Users/Zack/0_thesis_sst/ghrsst_2018_csv/'
sst_list <- list.files(sst_folder, pattern = '.csv')
#load master files
rac_folder <- "/Users/Zack/0_seawarden/r/RAC_seabass_all/"
master_files <- paste0(rac_folder, 'master_files/')
master_Feeding <- read.csv(paste0(master_files, 'master_RAC-seabass - Feeding.csv'), header=TRUE, sep=",")
master_Food <- read.csv(paste0(master_files, 'master_RAC-seabass - Food_Characterization.csv'), header=FALSE, sep=",")
master_Parameters <- read.csv(paste0(master_files, 'master_RAC-seabass - Parameters.csv'), header=FALSE, sep=",")
master_Management <- read.csv(paste0(master_files, 'master_RAC-seabass - Management.csv'), header=FALSE, sep=",")
master_Population <- read.csv(paste0(master_files, 'master_RAC-seabass - Population.csv'), header=FALSE, sep=",")
#create folder for each site, #add SST data
#sites <- length(sst_list)
sites <- 2
for (i in 0:sites){
#create a folder for each site
site_folder <- paste0(rac_folder, 'site_', i, '/')
dir.create(site_folder)
#create RAC folders for each site
Bass_pop_skeleton(site_folder)
#add SST data
orglocation <- paste0(sst_folder, i, '_sst.csv')
newlocation <- paste0(site_folder, 'Bass_population/Inputs/Forcings/')
file.copy(from=orglocation, to=newlocation, overwrite = TRUE, recursive = FALSE, copy.mode = TRUE)
file.remove(paste0(newlocation, 'Water_temperature.csv'))
file.rename(paste0(newlocation, i, '_sst.csv'), paste0(newlocation, 'Water_temperature.csv'))}
master_Feeding %>% select('date')
#create folder for each site, #add SST data
#sites <- length(sst_list)
sites <- 2
for (i in 0:sites){
#create a folder for each site
site_folder <- paste0(rac_folder, 'site_', i, '/')
dir.create(site_folder)
#create RAC folders for each site
Bass_pop_skeleton(site_folder)
#add SST data
orglocation <- paste0(sst_folder, i, '_sst.csv')
newlocation <- paste0(site_folder, 'Bass_population/Inputs/Forcings/')
file.copy(from=orglocation, to=newlocation, overwrite = TRUE, recursive = FALSE, copy.mode = TRUE)
file.remove(paste0(newlocation, 'Water_temperature.csv'))
file.rename(paste0(newlocation, i, '_sst.csv'), paste0(newlocation, 'Water_temperature.csv'))}
library(RAC)
library(dplyr)
#command + shift + c
#load sst files
sst_folder <- '/Users/Zack/0_thesis_sst/ghrsst_2018_csv/'
sst_list <- list.files(sst_folder, pattern = '.csv')
#load master files
rac_folder <- "/Users/Zack/0_seawarden/r/RAC_seabass_all/"
master_files <- paste0(rac_folder, 'master_files/')
master_Feeding <- read.csv(paste0(master_files, 'master_RAC-seabass - Feeding.csv'), header=TRUE, sep=",")
master_Food <- read.csv(paste0(master_files, 'master_RAC-seabass - Food_Characterization.csv'), header=FALSE, sep=",")
master_Parameters <- read.csv(paste0(master_files, 'master_RAC-seabass - Parameters.csv'), header=FALSE, sep=",")
master_Management <- read.csv(paste0(master_files, 'master_RAC-seabass - Management.csv'), header=FALSE, sep=",")
master_Population <- read.csv(paste0(master_files, 'master_RAC-seabass - Population.csv'), header=FALSE, sep=",")
#create folder for each site, #add SST data
#sites <- length(sst_list)
sites <- 2
for (i in 0:sites){
#create a folder for each site
site_folder <- paste0(rac_folder, 'site_', i, '/')
dir.create(site_folder)
#create RAC folders for each site
Bass_pop_skeleton(site_folder)
#add SST data
orglocation <- paste0(sst_folder, i, '_sst.csv')
newlocation <- paste0(site_folder, 'Bass_population/Inputs/Forcings/')
file.copy(from=orglocation, to=newlocation, overwrite = TRUE, recursive = FALSE, copy.mode = TRUE)
file.remove(paste0(newlocation, 'Water_temperature.csv'))
file.rename(paste0(newlocation, i, '_sst.csv'), paste0(newlocation, 'Water_temperature.csv'))}
#generate Feeding.csv for each site
for (i in 0:sites){
column <- 2 + i
export <- master_Feeding %>% select(1, column)
#export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
for (i in 0:sites){
export <- master_Food %>% select(2, 1)
export <- export[-1,] #drop header
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Food_Characterization.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
library(RAC)
library(dplyr)
#command + shift + c
#load sst files
#sst_folder <- '/Users/Zack/0_thesis_sst/ghrsst_2018_csv/'
sst_folder <- '/Users/Zack/0_thesis_sst/ghrsst_csv_test/'
sst_list <- list.files(sst_folder, pattern = '.csv')
#load master files
rac_folder <- "/Users/Zack/0_seawarden/r/RAC_seabass_all/"
master_files <- paste0(rac_folder, 'master_files/')
master_Feeding <- read.csv(paste0(master_files, 'master_RAC-seabass - Feeding.csv'), header=TRUE, sep=",")
master_Food <- read.csv(paste0(master_files, 'master_RAC-seabass - Food_Characterization.csv'), header=FALSE, sep=",")
master_Parameters <- read.csv(paste0(master_files, 'master_RAC-seabass - Parameters.csv'), header=FALSE, sep=",")
master_Management <- read.csv(paste0(master_files, 'master_RAC-seabass - Management.csv'), header=FALSE, sep=",")
master_Population <- read.csv(paste0(master_files, 'master_RAC-seabass - Population.csv'), header=FALSE, sep=",")
#create folder for each site, #add SST data
#sites <- length(sst_list)
sites <- 2
for (i in 0:sites){
#create a folder for each site
site_folder <- paste0(rac_folder, 'site_', i, '/')
dir.create(site_folder)
#create RAC folders for each site
Bass_pop_skeleton(site_folder)
#add SST data
orglocation <- paste0(sst_folder, i, '_sst.csv')
newlocation <- paste0(site_folder, 'Bass_population/Inputs/Forcings/')
file.copy(from=orglocation, to=newlocation, overwrite = TRUE, recursive = FALSE, copy.mode = TRUE)
file.remove(paste0(newlocation, 'Water_temperature.csv'))
file.rename(paste0(newlocation, i, '_sst.csv'), paste0(newlocation, 'Water_temperature.csv'))}
#generate Feeding.csv for each site
for (i in 0:sites){
#column <- 2 + i
#export <- master_Feeding %>% select(1, column)
export <- master_Feeding %>% select(1, 2)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Feeding.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Food_Characterization.csv for each site (same for all sites)
for (i in 0:sites){
export <- master_Food %>% select(2, 1)
export <- export[-1,] #drop header
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Forcings/Food_Characterization.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Management.csv for each site (same for all sites)
for (i in 0:sites){
#column <- i + 3
#export <- master_Management %>% select(1, 2, column)
export <- master_Management %>% select(1, 2, 3)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Population_management/Management.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Parameters.csv for each site (same for all sites)
for (i in 0:sites){
export <- master_Parameters %>% select(1, 2, 5, 3, 4)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Parameters/Parameters.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#generate Population.csv for each site
for (i in 0:sites){
column <- i + 5
export <- master_Population %>% select(1, 2, column, 3, 4)
output <- paste0(rac_folder, 'site_', i, '/Bass_population/Inputs/Parameters/Population.csv')
write.table(export, file = output, row.names=FALSE, col.names = FALSE, sep=",")}
#delete selector = "y"
trace(Bass_pop_main,edit=T)
for (i in 0:sites){
userpath <- paste0(rac_folder, "site_", i)
#working directory
setwd(userpath)
#load environmental variables
forcings <- Bass_pop_dataloader(userpath)
#run growth model
output <- Bass_pop_main(userpath, forcings)}
library(dplyr)
#compiler combines daily RAC predictions for each farmsite in to one csv file
output_compiler <- function(rac_folder, i){
#site folder
site_folder <- paste0('site_', i, '/Bass_population/Outputs/Out_csv/')
#load csv files
faeces_c <- read.csv(paste0(rac_folder, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
feed_c <- read.csv(paste0(rac_folder, site_folder, 'wasted_feed_Carbohydrates.csv'), header=TRUE, sep=",")
feed_l <- read.csv(paste0(rac_folder, site_folder, 'wasted_feed_Lipids.csv'), header=TRUE, sep=",")
feed_p <- read.csv(paste0(rac_folder, site_folder, 'wasted_feed_Proteins.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_l <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
feed_c <- feed_c %>% select(V1, V2)
feed_l <- feed_l %>% select(V1, V2)
feed_p <- feed_p %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p, feed_c, feed_l, feed_p)
#rename columns
colnames(compiled) <- c("day",
"faeces_c1", "faeces_c2", "faeces_l1", "faeces_l2", "faeces_p1", "faeces_p2",
"feed_c1", "feed_c2", "feed_l1", "feed_l2", "feed_p1", "feed_p2")
#write csv
name <- paste0(rac_folder, 'output_all_sites/site_', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
rac_folder <- '/Users/Zack/0_seawarden/r/RAC_seabass_all/'
#output_compiler(rac_folder, 0)
sites <- 2
for (i in 0:sites){
output_compiler(rac_folder, i)}
library(dplyr)
#compiler combines daily RAC predictions for each farmsite in to one csv file
output_compiler <- function(rac_folder, i){
#site folder
site_folder <- paste0('site_', i, '/Bass_population/Outputs/Out_csv/')
#load csv files
faeces_c <- read.csv(paste0(rac_folder, site_folder, 'faeces_production_Carbohydrates.csv'), header=TRUE, sep=",")
faeces_l <- read.csv(paste0(rac_folder, site_folder, 'faeces_production_Lipids.csv'), header=TRUE, sep=",")
faeces_p <- read.csv(paste0(rac_folder, site_folder, 'faeces_production_Proteins.csv'), header=TRUE, sep=",")
feed_c <- read.csv(paste0(rac_folder, site_folder, 'wasted_feed_Carbohydrates.csv'), header=TRUE, sep=",")
feed_l <- read.csv(paste0(rac_folder, site_folder, 'wasted_feed_Lipids.csv'), header=TRUE, sep=",")
feed_p <- read.csv(paste0(rac_folder, site_folder, 'wasted_feed_Proteins.csv'), header=TRUE, sep=",")
nh4 <- read.csv(paste0(rac_folder, site_folder, 'NH4_release.csv'), header=TRUE, sep=",")
#extract columns
faeces_c <- faeces_c %>% select(X, V1, V2)
faeces_l <- faeces_l %>% select(V1, V2)
faeces_p <- faeces_p %>% select(V1, V2)
feed_c <- feed_c %>% select(V1, V2)
feed_l <- feed_l %>% select(V1, V2)
feed_p <- feed_p %>% select(V1, V2)
nh4 <- nh4 %>% select(V1, V2)
#compile columns to new dataframe
compiled <- cbind(faeces_c, faeces_l, faeces_p, feed_c, feed_l, feed_p, nh4)
#rename columns
colnames(compiled) <- c("day",
"faeces_c1", "faeces_c2", "faeces_l1", "faeces_l2", "faeces_p1", "faeces_p2",
"feed_c1", "feed_c2", "feed_l1", "feed_l2", "feed_p1", "feed_p2", "nh4_1", "nh4_2")
#write csv
name <- paste0(rac_folder, 'output_all_sites/site_', i, '_compiled.csv')
write.table(compiled, file = name, row.names=FALSE, col.names = TRUE, sep=",")}
rac_folder <- '/Users/Zack/0_seawarden/r/RAC_seabass_all/'
#output_compiler(rac_folder, 0)
sites <- 2
for (i in 0:sites){
output_compiler(rac_folder, i)}
