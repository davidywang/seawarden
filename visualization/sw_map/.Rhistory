setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote"))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote"))
map
shiny::runApp('C:/Users/Zack/0_seawarden/visualization/sw_map')
shiny::runApp()
library(leaflet)
library(leaflet.extras)
library(geojsonio)
library(leafpop)
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote", width=500))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote", height=500, width=500))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote"))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote", height=300, width=300))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("<img src = ", img, ">"))
#popupImage(img, src = "remote", height=300, width=300))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = "<h4>", "NAME", "</h4>", paste0("<img src = ", img, ">"))
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("<h4>", "NAME", "</h4>", "<img src = ", img, ">"))
#popupImage(img, src = "remote", height=300, width=300))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("<style> div.leaflet-popup-content {width:auto !important;}</style>","<h4>", "Detection Image", "</h4>", "<img src = ", img, ">"))
#popupImage(img, src = "remote", height=300, width=300))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("<style> div.leaflet-popup-content {width:500;}</style>","<h4>", "Detection Image", "</h4>", "<img src = ", img, ">"))
#popupImage(img, src = "remote", height=300, width=300))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = popupImage(img, src = "remote", height=300, width=300))
#paste0("<style> div.leaflet-popup-content {width:500;}</style>","<h4>", "Detection Image", "</h4>", "<img src = ", img, ">"))
map
library(leaflet)
library(leaflet.extras)
library(geojsonio)
library(leafpop)
src_aoi = "https://raw.githubusercontent.com/zdinh/seawarden/master/0_search_areas/3_aoi/"
src = "https://raw.githubusercontent.com/zdinh/seawarden/master/targets_2_simrdwn/"
aoi = "_aoi.geojson"
frm = "_simrdwn_farmsites_ext.geojson"
pen = "_simrdwn_pens.geojson"
pts = "_simrdwn_farm_pts.geojson"
f = "GRC"
grc_aoi <- geojson_read(paste0(src_aoi, f, aoi),  what = "sp")
grc_frm <- geojson_read(paste0(src, f, "/", f, frm), what = "sp")
grc_pen <- geojson_read(paste0(src, f, "/", f, pen), what = "sp")
grc_pts <- geojson_read(paste0(src, f, "/", f, pts), what = "sp")
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = "<h4>", "Detection Image", "</h4>", popupImage(img, src = "remote", height=300, width=300))
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("<h4>", "Detection Image", "</h4>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detection Image", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detection Image | [View](", img, ")", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detection Image | [View](" img ")", popupImage(img, src = "remote", height=300, width=300)))
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detection Image | [View](", img, ")", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detection Image |", "<a href=", img, ">View</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detection Image | ", "<a href=", img, ">View Full Size Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Full Size Image</a>", popupImage(img, src = "remote", height=400, width=400)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Full Size Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
shiny::runApp()
library(leaflet)
library(leaflet.extras)
library(geojsonio)
library(leafpop)
src_aoi = "https://raw.githubusercontent.com/zdinh/seawarden/master/0_search_areas/3_aoi/"
src = "https://raw.githubusercontent.com/zdinh/seawarden/master/targets_2_simrdwn/"
aoi = "_aoi.geojson"
frm = "_simrdwn_farmsites_ext.geojson"
pen = "_simrdwn_pens.geojson"
pts = "_simrdwn_farm_pts.geojson"
f = "GRC"
grc_aoi <- geojson_read(paste0(src_aoi, f, aoi),  what = "sp")
grc_frm <- geojson_read(paste0(src, f, "/", f, frm), what = "sp")
grc_pen <- geojson_read(paste0(src, f, "/", f, pen), what = "sp")
grc_pts <- geojson_read(paste0(src, f, "/", f, pts), what = "sp")
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
img = paste(src, "155_18_39_9637_23_9755_39_9547_23_9872_thresh=0.25..jpeg")
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
img = paste(src, "GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/155_18_39_9637_23_9755_39_9547_23_9872_thresh=0.25..jpeg")
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
img = paste(src, "GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
img = paste0(src, "GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
img = "https://raw.githubusercontent.com/zdinh/seawarden/master/targets_2_simrdwn/GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = "https://66.media.tumblr.com/a187444333b9b99693c4dede3078814c/5a1cf24832530c04-5d/s1280x1920/96250745741cbfe2bcd7023d7cd3bd2fab6960a8.jpg"
img = paste0(src, "GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
# img = "https://raw.githubusercontent.com/zdinh/seawarden/master/targets_2_simrdwn/GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg"
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
shiny::runApp()
library(leaflet)
library(leaflet.extras)
library(geojsonio)
library(leafpop)
src_aoi = "https://raw.githubusercontent.com/zdinh/seawarden/master/0_search_areas/3_aoi/"
src = "https://raw.githubusercontent.com/zdinh/seawarden/master/targets_2_simrdwn/"
grc_img = "GRC/test_ssd_imagery_controlset_2020_04_15_06-47-03/"
aoi = "_aoi.geojson"
frm = "_simrdwn_farmsites_ext.geojson"
pen = "_simrdwn_pens.geojson"
pts = "_simrdwn_farm_pts.geojson"
f = "GRC"
grc_aoi <- geojson_read(paste0(src_aoi, f, aoi),  what = "sp")
grc_frm <- geojson_read(paste0(src, f, "/", f, frm), what = "sp")
grc_pen <- geojson_read(paste0(src, f, "/", f, pen), what = "sp")
grc_pts <- geojson_read(paste0(src, f, "/", f, pts), what = "sp")
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, "target='_blank'>View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0("Detections | ", "<a href=", img, target="_blank", ">View Image</a>", popupImage(img, src = "remote", height=300, width=300)))
map
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
url = paste0("Detections | ", "<a href=", img, target="_blank", ">View Image</a>")
url
#<a href="https://www.w3schools.com" target="_blank">Visit W3Schools.com!</a>
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
url = paste0("Detections | ", "<a href=" img, target="_blank", ">View Image</a>")
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
url = paste0("Detections | ", "<a href=", img, 'target="_blank"', ">View Image</a>")
url
#<a href="https://www.w3schools.com" target="_blank">Visit W3Schools.com!</a>
base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
img = paste0(src, grc_img, "133_18_38_4666_26_1479_38_4576_26_1594_thresh%3D0.25..jpeg")
url = paste0("Detections | ", "<a href=", img, ' target="_blank"', ">View Image</a>")
url
#<a href="https://www.w3schools.com" target="_blank">Visit W3Schools.com!</a>
map <-leaflet() %>%
addTiles(urlTemplate = base, attribution = att) %>%
setView(14, 40, zoom = 4) %>%
setMaxBounds(-10, 50, 40, 30) %>%
addFullscreenControl() %>%
#data layers
addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm, feature.id = FALSE, row.numbers = FALSE)) %>%
addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen, feature.id = FALSE, row.numbers = FALSE)) %>%
addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0', popup = paste0(url, popupImage(img, src = "remote", height=300, width=300)))
map
runApp()
shiny::runApp()
