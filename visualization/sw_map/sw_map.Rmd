---
title: "Untitled"
author: "Zack Dinh"
date: "7/3/2020"
output: html_document
---

```{r setup, include=FALSE}
library(leaflet)
library(geojsonio)
```

```{r}
src_aoi = "https://raw.githubusercontent.com/zdinh/seawarden/master/0_search_areas/3_aoi/"
src = "https://raw.githubusercontent.com/zdinh/seawarden/master/targets_2_simrdwn/"

aoi = "_aoi.geojson"
frm = "_simrdwn_farmsites_ext.geojson"
pen = "_simrdwn_pens.geojson"
pts = "_simrdwn_farm_pts.geojson"

f = "GRC"
grc_aoi <- geojson_read(paste0(src_aoi, f, aoi),  what = "sp")
grc_frm <- geojson_read(paste0(src, f, "/", f, frm), what = "sp")
grc_pen <- geojson_read(paste0(src, f, "/", f, pen), what = "sp")
grc_pts <- geojson_read(paste0(src, f, "/", f, pts), what = "sp")

base = "https://mts1.google.com/vt/lyrs=s&hl=en&src=app&x={x}&y={y}&z={z}&s=G"
att = "Sea Warden | Google"
```

```{r}
library(mapview)

map <-leaflet() %>%
  addTiles(urlTemplate = base, attribution = att) %>%
  setView(14, 40, zoom = 4) %>%
  setMaxBounds(-10, 50, 40, 30) %>%
  
  #data layers
  addPolygons(data=grc_aoi, color = 'white', weight = 1, fillOpacity = 0, popup = popupTable(grc_aoi)) %>%
  addPolygons(data=grc_frm, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_frm)) %>%
  addPolygons(data=grc_pen, color = '#3bb2d0', weight = 1, fillOpacity = 0, popup = popupTable(grc_pen)) %>%
  addCircleMarkers(data=grc_pts, radius = .25, color = '#3bb2d0') 
map
```
